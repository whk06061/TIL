# 알고리즘 공부 10일차

### 백준 문제 :

4948(시간초과)

---

# 주요 문제 정리

## 4948. 베르트랑 공준

<br/>

> ### [문제](https://www.acmicpc.net/problem/2581)

#### <br/>베르트랑 공준은 임의의 자연수 n에 대하여, n보다 크고, 2n보다 작거나 같은 소수는 적어도 하나 존재한다는 내용을 담고 있다.<br/>이 명제는 조제프 베르트랑이 1845년에 추측했고, 파프누티 체비쇼프가 1850년에 증명했다.<br/>예를 들어, 10보다 크고, 20보다 작거나 같은 소수는 4개가 있다. (11, 13, 17, 19) 또, 14보다 크고, 28보다 작거나 같은 소수는 3개가 있다. (17,19, 23)<br/>자연수 n이 주어졌을 때, n보다 크고, 2n보다 작거나 같은 소수의 개수를 구하는 프로그램을 작성하시오.

<br/>

> ### Python3 코드

```python
N = 123456
sosoo_list = [False] * (N*2+1)

# 2 * N 까지의 모든 소수 구하기
for i in range(2,N*2+1):
    for j in range(2, int(i**0.5)+1):
        if i % j == 0:
            break
    else:
        sosoo_list[i] = True

# 입력받은 수 범위에서 소수 개수 구하기
while True:
    result = 0
    input_n = int(input())
    if input_n == 0:
        break
    for i in range(input_n+1, 2*input_n+1):
        if sosoo_list[i] == True:
            result += 1
    print(result)
```

<br/>

> ### Python3 코드 풀이

### 1. 문제 요약

이 문제는 자연수 n을 입력받아 n보다 크고 2n보다 작은 소수의 개수를 구하는 문제이다.
<br/>

처음에는 n부터 2n까지 for문을 돌면서 소수인지 아닌지 일일이 계산을 해줬었는데 시간초과가 떠서 실패했다. 시간을 절약하려면 미리 입력 최대치인 123456까지의 소수를 미리 구한 후 입력 받은 범위 내에서 소수가 몇개가 있나 구해줘야한다.

### 2. 변수 설명

```python
N = 123456
sosoo_list = [False] * (N*2+1)
```

변수 N에는 입력 최대치인 123456을 넣어준다.
sosoo_list는 입력 범위까지의 모든 소수를 구하기 위한 리스트로, 소수인 인덱스에만 True가 저장된다.
(참고로, 리스트의 크기가 N\*2+1인 이유는 2N보다 작거나 같은 소수를 구해야하기 때문이고, 만약 1을 더해주지 않는다면 인덱스는 2\*N-1 번 까지밖에 만들어지지 않기 때문에 1을 더해줘야 한다.)

### 3. 미리 입력 범위까지의 모든 소수를 구해준다

```python
for i in range(2,N*2+1):
    for j in range(2, int(i**0.5)+1):
        if i % j == 0:
            break
    else:
        sosoo_list[i] = True
```

외부 for문의 2부터 N\*2 사이의 모든 소수를 구해주기 위해 범위를 지정해준다.
내부 for문은 시간 절약을 위해 어떤 수의 제곱근 범위 안에 모든 약수가 존재한다는 성질을 이용해서 소수를 구해준다. (Day10 글 참고)
<br/>내부 for문을 모두 돌았는데 i가 j로 나누어떨어지지 않는다면 else문 안의 코드가 실행되며, 그때 i는 소수이기 때문에 해당 인덱스 값을 True로 바꿔준다.

### 4. 입력받은 범위에서 소수의 개수 구하기

```java
while True:
    result = 0
    input_n = int(input())
    if input_n == 0:
        break
    for i in range(input_n+1, 2*input_n+1):
        if sosoo_list[i] == True:
            result += 1
    print(result)

```

4번째 줄은 무한 for문을 돌면서 n을 입력받다가 0이 입력되면 프로그램을 종료시키는 코드이다.
for문은 입력받은 범위만큼 반복을 돌면서 해당 숫자가 만약 앞서 구한 리스트에서 소수로 판명이 났으면 result를 1 증가시키고 반복문을 다 돌면 result를 출력한다.
